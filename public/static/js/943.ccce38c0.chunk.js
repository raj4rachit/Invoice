"use strict";(self.webpackChunkInvoice_Billing=self.webpackChunkInvoice_Billing||[]).push([[943],{19066:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var i=n(17834),s=n(80184);var r=()=>(0,s.jsx)(s.Fragment,{}),a=n(72791),c=n(61889),l=n(91923),d=n(88893),h=n(27475);var x=n(39504),o=n(20890),j=n(39281),Z=n(79836),u=n(53382),m=n(35855),P=n(68745),g=n(50533),v=n(63033),p=n(56890),b=n(80720),y=n(23735),f=n(49502),C=n(94022),w=n(62007),D=n(38886),I=n(57621),k=n(47047);var S=()=>(0,s.jsx)(I.Z,{children:(0,s.jsx)(x.Z,{children:(0,s.jsxs)(c.ZP,{container:!0,spacing:l.dv,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:l.dv,children:(0,s.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:30})})})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:250})})]})})});const Y={search:"",displayLength:10,displayStart:0,orderDir:"ASC",orderColumn:0,client_id:"0",invoice_amount:"0",status:"0",is_due:!0};let M=0;var _=e=>{let{isLoading:t}=e;const{recall:n}=(0,i.Z)(),[r,c]=(0,a.useState)([]),[l,d]=(0,a.useState)(0),[h,p]=(0,a.useState)(10),[b,I]=(0,a.useState)("asc"),[k,_]=(0,a.useState)("0"),[L,z]=(0,a.useState)(!1),[W,B]=(0,a.useState)({}),R=()=>{(0,f.p3)(Y).then((e=>{M=e.data.data.totalCount,c(e.data.data.data)})).catch((e=>{(0,C.c$)(e)}))};(0,a.useEffect)((()=>{var e;Y.displayLength=h,Y.displayStart=h*l,Y.orderDir=null!==(e=null===b||void 0===b?void 0:b.toUpperCase())&&void 0!==e?e:Y.orderDir,Y.orderColumn=Number(k),R()}),[l,h,b,k,n]);return(0,s.jsx)(s.Fragment,{children:t?(0,s.jsx)(S,{}):(0,s.jsxs)(y.Z,{content:!1,children:[(0,s.jsxs)(x.Z,{children:[(0,s.jsx)(o.Z,{variant:"h4",children:"Due Invoices"}),(0,s.jsx)(j.Z,{children:(0,s.jsxs)(Z.Z,{children:[(0,s.jsx)(T,{order:b,orderBy:k,onRequestSort:e=>{I(k===e&&"asc"===b?"desc":"asc"),_(e)}}),(0,s.jsx)(u.Z,{children:r.map(((e,t)=>(0,s.jsxs)(m.Z,{children:[(0,s.jsx)(P.Z,{children:(0,s.jsx)(g.Z,{underline:"none",sx:{cursor:"pointer"},onClick:()=>{return t=e,void(0,f.fD)({type:"view",id:t.id}).then((e=>{z((e=>!e)),B(e.data.data)})).catch((e=>{(0,C.c$)(e)}));var t},children:e.invoice_no})}),(0,s.jsx)(P.Z,{children:e.client_name}),(0,s.jsx)(P.Z,{children:e.invoice_date}),(0,s.jsx)(P.Z,{align:"right",children:e.invoice_currency_total_amount}),(0,s.jsx)(P.Z,{align:"right",children:e.company_currency_total_amount})]},t)))})]})}),(0,s.jsx)(v.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:Number(M),rowsPerPage:h,page:l,onPageChange:(e,t)=>{d(t)},onRowsPerPageChange:e=>{p(parseInt(e.target.value,10)),d(0)}})]}),L&&(0,s.jsx)(w.Z,{open:L,title:`View - ${W.invoice.invoice_no}`,onClose:()=>{z((e=>!e)),R()},saveButton:!0,sx:{"& .MuiDialog-container ":{justifyContent:"flex-end","& .MuiPaper-root":{m:0,p:0,borderRadius:"0px",minWidth:{sm:"70%",xs:"100%"},minHeight:"100%"}}},children:(0,s.jsx)(D.Z,{invoiceData:W})})]})})};function T(e){let{order:t,orderBy:n,onRequestSort:i}=e;const r=e=>()=>{i(e)};return(0,s.jsx)(p.Z,{children:(0,s.jsxs)(m.Z,{children:[(0,s.jsx)(P.Z,{children:(0,s.jsx)(b.Z,{active:"0"===n,direction:"0"===n?t:"asc",onClick:r("0"),children:"Invoice Number"})},"invoice_number"),(0,s.jsx)(P.Z,{children:(0,s.jsx)(b.Z,{active:"1"===n,direction:"1"===n?t:"asc",onClick:r("1"),children:"Client"})},"Client"),(0,s.jsx)(P.Z,{children:(0,s.jsx)(b.Z,{active:"2"===n,direction:"2"===n?t:"asc",onClick:r("2"),children:"Date"})},"date"),(0,s.jsx)(P.Z,{align:"right",children:(0,s.jsx)(b.Z,{active:"3"===n,direction:"3"===n?t:"asc",onClick:r("3"),children:"Amount"})},"amount"),(0,s.jsx)(P.Z,{align:"right",children:(0,s.jsx)(b.Z,{active:"6"===n,direction:"6"===n?t:"asc",onClick:r("6"),children:"Total"})},"total")]})})}var L=n(13967),z=n(94721);var W=()=>(0,s.jsxs)(I.Z,{children:[(0,s.jsx)(x.Z,{children:(0,s.jsxs)(c.ZP,{container:!0,spacing:l.dv,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:l.dv,children:[(0,s.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20,width:20})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:150})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:l.dv,justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:16,width:16})})]})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})})]})})]})}),(0,s.jsx)(x.Z,{sx:{p:1.25,display:"flex",pt:0,justifyContent:"center"},children:(0,s.jsx)(k.Z,{variant:"rectangular",height:25,width:75})})]}),B=n(88795),R=n(75064),A=(n(84778),n(72426)),E=n.n(A),F=n(59434);var $=e=>{let{isLoading:t,yearData:n,monthData:i,callApi:r}=e;const j=(0,L.Z)(),[Z,u]=(0,a.useState)(E()().format("MMMM")),[m,P]=(0,a.useState)({}),[g,v]=(0,a.useState)({}),p=(0,F.v9)((e=>e.account)),b="0"===p.company.company_id?`${E()(p.company.start_date).format("YYYY")} - ${E()(p.company.end_date).format("YYYY")}`:`${p.company.financial_year_name}`;(0,a.useEffect)((()=>{P(i),v(n)}),[t,r]);const f=e=>{(function(e){return h.k.get(d.wO,e)})(e).then((e=>{P(e.data.data)})).catch((e=>{console.error(e)}))};return(0,s.jsx)(s.Fragment,{children:t?(0,s.jsx)(W,{}):(0,s.jsx)(y.Z,{content:!1,children:(0,s.jsx)(x.Z,{children:(0,s.jsxs)(c.ZP,{container:!0,spacing:l.dv,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,alignContent:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(R.Z,{initialSettings:{startDate:E()().startOf("month").format("MM/DD/YYYY"),endDate:E()().endOf("month").format("MM/DD/YYYY")},onApply:(e,t)=>{const n={startDate:E()(t.startDate).format("YYYY-MM-DD"),endDate:E()(t.endDate).format("YYYY-MM-DD")};u(`${n.startDate}  to  ${n.endDate}`),f(n)},children:(0,s.jsx)(B.Z,{})})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"h4",children:Z})})]})}),(0,s.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,s.jsxs)(c.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:"Invoice"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:m&&null!==m.InvoiceCount?m.InvoiceCount:0})})})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:b})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:g&&null!==g.InvoiceCount?g.InvoiceCount:0})})]})})]}),(0,s.jsx)(z.Z,{sx:{my:1.5}}),(0,s.jsxs)(c.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:"Sales"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:m&&null!==m.TotalSales?m.TotalSales:0})})})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:b})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:g&&null!==g.TotalSales?g.TotalSales:0})})]})})]}),(0,s.jsx)(z.Z,{sx:{my:1.5}}),(0,s.jsxs)(c.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:"TAX/GST/VAT"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:m&&null!==m.TotalTax?m.TotalTax:0})})})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:b})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:g&&null!==g.TotalTax?g.TotalTax:0})})]})})]}),(0,s.jsx)(z.Z,{sx:{my:1.5}}),(0,s.jsxs)(c.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:"TDS"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:m&&null!==m.Tds?m.Tds:0})})})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:b})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:g&&null!==g.Tds?g.Tds:0})})]})})]}),(0,s.jsx)(z.Z,{sx:{my:1.5}}),(0,s.jsxs)(c.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:"Received"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:m&&null!==m.Received?m.Received:0})})})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:b})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:g&&null!==g.Received?g.Received:0})})]})})]}),(0,s.jsx)(z.Z,{sx:{my:1.5}}),(0,s.jsxs)(c.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:"Bad Debt"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:m&&null!==m.BadDebt?m.BadDebt:0})})})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:b})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:g&&null!==g.BadDebt?g.BadDebt:0})})]})})]}),(0,s.jsx)(z.Z,{sx:{my:1.5}}),(0,s.jsxs)(c.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:"Due"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:m&&null!==m.Due?m.Due:0})})})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:b})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:g&&null!==g.Due?g.Due:0})})]})})]}),(0,s.jsx)(z.Z,{sx:{my:1.5}}),(0,s.jsxs)(c.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:"Previous Year Dues"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:m&&null!==m.PreviousYearDue?m.PreviousYearDue:0})})})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:b})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:g&&null!==g.PreviousYearDue?g.PreviousYearDue:0})})]})})]}),(0,s.jsx)(z.Z,{sx:{my:1.5}}),(0,s.jsxs)(c.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:"Expenses"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle1",color:"inherit",children:m&&null!==m.expenses?m.expenses:0})})})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:b})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"subtitle2",sx:{color:j.palette.success.dark},children:g&&null!==g.expenses?g.expenses:0})})]})})]})]})]})})})})},O=n(68096),N=n(58406),X=n(23786),q=n(13496);var U=()=>(0,s.jsx)(I.Z,{children:(0,s.jsx)(x.Z,{children:(0,s.jsxs)(c.ZP,{container:!0,spacing:l.dv,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:l.dv,children:[(0,s.jsx)(c.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,s.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(k.Z,{variant:"text"})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:20})})]})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:50,width:80})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(k.Z,{variant:"rectangular",height:530})})]})})});var V=e=>{let{isLoading:t,chartDataObj:n,setCurrencyData:i,currencyData:r,currencyList:a,setCurrencyStatus:d}=e;const h=null!==n&&void 0!==n&&n;return(0,s.jsx)(s.Fragment,{children:t?(0,s.jsx)(U,{}):(0,s.jsx)(y.Z,{children:(0,s.jsxs)(c.ZP,{container:!0,spacing:l.dv,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(c.ZP,{container:!0,direction:"column",spacing:1,children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"h3",children:"Yearly Invoice Chart"})})})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(O.Z,{size:"small",fullWidth:!0,children:(0,s.jsx)(N.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r.id,onChange:e=>{const t=e.target.value,n=a.findIndex((e=>e.id===t)),s=a[n].action;i({id:t,action:s}),d((e=>!e))},children:a.map(((e,t)=>(0,s.jsx)(X.Z,{value:e.id,children:e.short_code},t)))})})})]})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(q.Z,{...h})})]})})})};var G=e=>{let{isLoading:t,data:n}=e;const[i,r]=(0,a.useState)(E()().format("MMMM"));return(0,s.jsx)(s.Fragment,{children:t?(0,s.jsx)(W,{}):(0,s.jsx)(y.Z,{content:!1,children:(0,s.jsx)(x.Z,{children:(0,s.jsxs)(c.ZP,{container:!0,spacing:l.dv,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(c.ZP,{container:!0,alignContent:"center",justifyContent:"space-between",children:(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"h4",children:"Invoiced / Payment / Expenses"})})})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,children:[(0,s.jsx)(c.ZP,{item:!0,xs:3,children:(0,s.jsx)(o.Z,{variant:"h5",children:"Month"})}),(0,s.jsx)(c.ZP,{item:!0,xs:3,children:(0,s.jsx)(o.Z,{variant:"h5",align:"right",children:"Invoiced"})}),(0,s.jsx)(c.ZP,{item:!0,xs:3,children:(0,s.jsx)(o.Z,{variant:"h5",align:"right",children:"Payment"})}),(0,s.jsx)(c.ZP,{item:!0,xs:3,children:(0,s.jsx)(o.Z,{variant:"h5",align:"right",children:"Expenses"})})]})}),n.map(((e,t)=>(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,children:[(0,s.jsx)(c.ZP,{item:!0,xs:3,children:(0,s.jsx)(o.Z,{variant:t+1===n.length?"h5":"subtitle1",color:t+1===n.length?"":"inherit",children:e.month})}),(0,s.jsx)(c.ZP,{item:!0,xs:3,alignItems:"right",children:(0,s.jsx)(o.Z,{variant:t+1===n.length?"h5":"subtitle1",color:t+1===n.length?"":"inherit",align:"right",children:e.income})}),(0,s.jsx)(c.ZP,{item:!0,xs:3,alignItems:"right",children:(0,s.jsx)(o.Z,{variant:t+1===n.length?"h5":"subtitle1",color:t+1===n.length?"":"inherit",align:"right",children:e.payment})}),(0,s.jsx)(c.ZP,{item:!0,xs:3,children:(0,s.jsx)(o.Z,{variant:t+1===n.length?"h5":"subtitle1",color:t+1===n.length?"":"inherit",align:"right",children:e.expense})})]})},t)))]})})})})};const H={chartData:{},yearData:{},monthData:{},incomeExpense:[],currencyList:[]},J={id:0,action:"subscriber"};var K=()=>{const{recall:e}=(0,i.Z)(),[t,n]=(0,a.useState)(!0),[r,x]=(0,a.useState)(!0),[o,j]=(0,a.useState)(!0),[Z,u]=(0,a.useState)({});return(0,a.useEffect)((()=>{J.id=Z.id,J.action=Z.action,function(e){return h.k.get(d.A,e)}(J).then((e=>{H.currencyList=e.data.data.currencyList,H.yearData=e.data.data.yearCard,H.monthData=e.data.data.monthCard,H.incomeExpense=e.data.data.income_expense,H.chartData={height:565,type:"line",options:{chart:{id:"bar-chart",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},stroke:{curve:"smooth",width:[0,0,0,0,4]},responsive:[{breakpoint:582,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},xaxis:{type:"category",categories:e.data.data.chartData.month},legend:{show:!0,fontSize:"14px",fontFamily:"'Roboto', sans-serif",position:"bottom",offsetX:20,labels:{useSeriesColors:!1},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1},grid:{show:!0}},series:e.data.data.chartData.series},u(e.data.data.currencyData),x((e=>!e)),n(!1)})).catch((e=>{console.error(e)}))}),[e,o]),(0,s.jsx)(c.ZP,{container:!0,spacing:l.dv,children:(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsxs)(c.ZP,{container:!0,spacing:l.dv,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,md:8,children:(0,s.jsx)(V,{isLoading:t,chartDataObj:H.chartData,setCurrencyData:u,currencyData:Z,currencyList:H.currencyList,setCurrencyStatus:j})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,md:4,children:(0,s.jsx)($,{isLoading:t,yearData:H.yearData,monthData:H.monthData,callApi:r})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,md:7,children:(0,s.jsx)(_,{isLoading:t})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,md:5,children:(0,s.jsx)(G,{isLoading:t,data:H.incomeExpense})})]})})})};var Q=()=>(0,s.jsx)(s.Fragment,{});var ee=()=>{const{user:e}=(0,i.Z)();return(0,s.jsxs)(s.Fragment,{children:["SuperAdmin"===e.user_type&&(0,s.jsx)(r,{}),"Subscriber"===e.user_type&&(0,s.jsx)(K,{}),"User"===e.user_type&&(0,s.jsx)(Q,{})]})}}}]);
//# sourceMappingURL=943.ccce38c0.chunk.js.map