"use strict";(self.webpackChunkInvoice_Billing=self.webpackChunkInvoice_Billing||[]).push([[8005],{93238:function(e,t,n){n.d(t,{Bh:function(){return c},C4:function(){return l},DN:function(){return o},JK:function(){return d},Wg:function(){return i},bG:function(){return u},tT:function(){return s}});var r=n(88893),a=n(27475);function i(e){return a.k.get(r.w5,e)}function s(e){const t=new FormData;return t.append("employee_id",e.employee_id),a.k.post(r.X$,t)}function o(e){const t=new FormData;return t.append("employee_id",e.employee_id),a.k.post(r.yB,t)}function l(e){const t=new FormData;return t.append("employee_id",e.employee_id),t.append("roll_over_month",e.roll_over_month),t.append("roll_over_bill",e.roll_over_bill),e.slabs.map(((e,n)=>{t.append(`slabs[${n}][from]`,e.from),t.append(`slabs[${n}][to]`,e.to),t.append(`slabs[${n}][amount_type]`,e.amount_type),t.append(`slabs[${n}][amount]`,e.amount)})),""!==e.id&&"edit"===e.formType&&t.append("id",e.id),a.k.post(r.og,t)}function c(e){return a.k.get(r.tA,e)}function d(e){const t=new FormData;return t.append("first_name",e.first_name),t.append("last_name",e.last_name),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),a.k.post(r.m$,t)):a.k.post(r.Bp,t)}function u(e){const t=new FormData;return t.append("id",e.id),a.k.post(r.c9,t)}},38005:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r=n(61889),a=n(57621),i=n(9585),s=n(39504),o=n(20890),l=n(77196),c=n(63466),d=n(58956),u=n(17834),m=n(72791),h=n(91923),p=n(23735),x=n(48550),Z=n(68096),j=n(30829),f=n(58406),v=n(23786),g=n(97123),_=n(36151),b=n(93238),C=n(92506),S=n(52909),y=n(94022),P=n(19533),D=n(81724),w=n(80184);const I=[{label:"Active"},{label:"Inactive"}],k=D.Ry().shape({first_name:D.Z_().required("First Name is required."),last_name:D.Z_().required("Last Name is required."),status:D.Z_().required("Status is required.")});var T=e=>{let{value:t,formID:n,onSubmit:a}=e;const i=null!==t&&void 0!==t&&t,s=(0,C.TA)({initialValues:{id:i?i.id:"",first_name:i?i.first_name:"",last_name:i?i.last_name:"",status:i?i.status:"Active",formType:i&&i.id?"edit":"add"},validationSchema:k,onSubmit:(e,t)=>{let{resetForm:n}=t;(0,b.JK)(e).then((e=>{e.data&&1===e.data.status?(a&&a(),n(),(0,y.qX)(e)):(0,y.I5)(e)})).catch((e=>{(0,y.c$)(e)}))}});return(0,w.jsx)("form",{id:n,onSubmit:s.handleSubmit,children:(0,w.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,w.jsx)(r.ZP,{item:!0,xs:12,children:(0,w.jsx)(r.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,w.jsx)(r.ZP,{item:!0,xs:12,sm:12,children:(0,w.jsx)(x.Z,{fullWidth:!0,size:"small",id:"first_name",name:"first_name",label:(0,w.jsx)(P.Z,{title:"First Name"}),value:s.values.first_name,onChange:s.handleChange,error:s.touched.first_name&&Boolean(s.errors.first_name),helperText:s.touched.first_name&&s.errors.first_name})})})}),(0,w.jsx)(r.ZP,{item:!0,xs:12,children:(0,w.jsx)(r.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,w.jsx)(r.ZP,{item:!0,xs:12,sm:12,children:(0,w.jsx)(x.Z,{fullWidth:!0,size:"small",id:"last_name",name:"last_name",label:(0,w.jsx)(P.Z,{title:"Last Name"}),value:s.values.last_name,onChange:s.handleChange,error:s.touched.last_name&&Boolean(s.errors.last_name),helperText:s.touched.last_name&&s.errors.last_name})})})}),(0,w.jsx)(r.ZP,{item:!0,xs:12,children:(0,w.jsx)(r.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,w.jsx)(r.ZP,{item:!0,xs:12,sm:12,children:(0,w.jsxs)(Z.Z,{size:"small",fullWidth:!0,children:[(0,w.jsx)(j.Z,{id:"status",children:"Status"}),(0,w.jsx)(f.Z,{fullWidth:!0,labelId:"status",id:"status",name:"status",label:"status",value:s.values.status,onChange:s.handleChange,children:I.map(((e,t)=>(0,w.jsx)(v.Z,{value:e.label,children:e.label},t)))})]})})})}),"add"===s.values.formType&&(0,w.jsx)(r.ZP,{item:!0,xs:12,children:(0,w.jsx)(r.ZP,{container:!0,alignItems:"center",spacing:2,justifyContent:"flex-end",children:(0,w.jsx)(r.ZP,{item:!0,xs:12,children:(0,w.jsxs)(g.Z,{children:[(0,w.jsx)(S.Z,{children:(0,w.jsx)(_.Z,{variant:"contained",color:"primary",type:"submit",children:"save"})}),(0,w.jsx)(_.Z,{variant:"text",color:"error",onClick:()=>s.resetForm(),children:"clear"})]})})})})]})})},A=n(38820),L=n(84220),N=n(39281),R=n(79836),z=n(53382),$=n(35855),B=n(68745),F=n(13400),q=n(63033),M=n(56890),E=n(80720),V=n(52463),O=n(53299);const H={search:"",displayLength:10,displayStart:0,orderDir:"ASC",orderColumn:0};let W=0;const G=[{id:1,first_name:"Shivam",last_name:"Shah",status:"Active"}];var U=e=>{let{search:t,callApi:n}=e;const{checkRestriction:r}=(0,u.Z)(),[a,i]=(0,m.useState)(G),[s,o]=(0,m.useState)(0),[l,c]=(0,m.useState)(10),[d,h]=(0,m.useState)("asc"),[p,x]=(0,m.useState)("0"),[Z,j]=(0,m.useState)(!1),[f,v]=(0,m.useState)(!1),[g,_]=(0,m.useState)({}),C=()=>{(0,b.Bh)(H).then((e=>{W=e.data.data.totalCount,i(e.data.data.data)})).catch((e=>{(0,y.c$)(e)}))};(0,m.useEffect)((()=>{var e;H.search=t,H.displayLength=l,H.displayStart=l*s,H.orderDir=null!==(e=null===d||void 0===d?void 0:d.toUpperCase())&&void 0!==e?e:H.orderDir,H.orderColumn=Number(p),C()}),[s,l,d,p,t,n]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(N.Z,{children:(0,w.jsxs)(R.Z,{children:[(0,w.jsx)(X,{order:d,orderBy:p,onRequestSort:e=>{h(p===e&&"asc"===d?"desc":"asc"),x(e)}}),(0,w.jsx)(z.Z,{children:a.map(((e,t)=>(0,w.jsxs)($.Z,{children:[(0,w.jsxs)(B.Z,{align:"left",children:[e.first_name," ",e.last_name]}),(0,w.jsx)(B.Z,{align:"left",children:e.status}),(0,w.jsxs)(B.Z,{align:"right",children:[r("CAN_EDIT_CONTRIBUTOR")&&(0,w.jsx)(F.Z,{color:"primary",component:"label",onClick:()=>{return t=e,j((e=>!e)),void _(t);var t},children:(0,w.jsx)(A.Z,{fontSize:"small"})}),r("CAN_DELETE_CONTRIBUTOR")&&(0,w.jsx)(F.Z,{color:"error",component:"label",onClick:()=>{return t=e,v(!0),void _(t);var t},children:(0,w.jsx)(L.Z,{fontSize:"small"})})]})]},t)))})]})}),(0,w.jsx)(q.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:Number(W),rowsPerPage:l,page:s,onPageChange:(e,t)=>{o(t)},onRowsPerPageChange:e=>{c(parseInt(e.target.value,10)),o(0)}}),Z&&(0,w.jsx)(V.Z,{title:"Edit Contributor",open:Z,onClose:()=>j((e=>!e)),id:"editContributor",children:(0,w.jsx)(T,{value:g,formID:"editContributor",onSubmit:()=>{j((e=>!e)),C()}})}),f&&(0,w.jsx)(O.Z,{onDeleteHandler:()=>{(0,b.bG)({id:g.id}).then((e=>{e.data&&1===e.data.status?(o(0),C(),v(!1),(0,y.qX)(e)):(0,y.I5)(e)})).catch((e=>{(0,y.c$)(e)}))},onClose:()=>v(!1),open:f,dept:"Contributor",name:g.first_name})]})};function X(e){let{order:t,orderBy:n,onRequestSort:r}=e;const a=e=>()=>{r(e)};return(0,w.jsx)(M.Z,{children:(0,w.jsxs)($.Z,{children:[(0,w.jsx)(B.Z,{sx:{width:"50%"},children:(0,w.jsx)(E.Z,{active:"0"===n,direction:"0"===n?t:"asc",onClick:a("0"),children:"Name"})},"name"),(0,w.jsx)(B.Z,{sx:{width:"30%"},children:(0,w.jsx)(E.Z,{active:"1"===n,direction:"1"===n?t:"asc",onClick:a("1"),children:"Status"})},"status"),(0,w.jsx)(B.Z,{align:"right",sx:{width:"20%"},children:"Action"})]})})}var J=()=>{const{checkRestriction:e}=(0,u.Z)(),[t,n]=(0,m.useState)(""),[x,Z]=(0,m.useState)(!1),[,j]=(0,m.useTransition)();return(0,w.jsxs)(r.ZP,{container:!0,spacing:h.dv,children:[(0,w.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:4,children:(0,w.jsxs)(a.Z,{variant:"outlined",children:[(0,w.jsx)(i.Z,{title:"Add Contributor"}),(0,w.jsx)(s.Z,{children:(0,w.jsx)(T,{formID:"addContributor",onSubmit:()=>{Z((e=>!e))}})})]})}),(0,w.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:8,children:(0,w.jsx)(p.Z,{title:(0,w.jsx)(r.ZP,{container:!0,spacing:h.dv,sx:{mb:-1,mt:-4},children:(0,w.jsx)(r.ZP,{item:!0,xs:12,children:(0,w.jsxs)(r.ZP,{container:!0,spacing:h.dv,children:[(0,w.jsx)(r.ZP,{item:!0,sx:{flexGrow:1},children:(0,w.jsx)(o.Z,{variant:"column",children:"Contributor List"})}),(0,w.jsx)(r.ZP,{item:!0,children:(0,w.jsx)(l.Z,{id:"input-search-list-style1",placeholder:"Search",startAdornment:(0,w.jsx)(c.Z,{position:"start",children:(0,w.jsx)(d.jVj,{stroke:1.5,size:"1rem"})}),size:"small",onChange:e=>{j((()=>n(e.target.value)))},autoComplete:"off"})})]})})}),content:!0,children:(0,w.jsx)(U,{search:t,callApi:x})})})]})}},53299:function(e,t,n){var r=n(5574),a=n(65661),i=n(97123),s=n(36151),o=n(80184);t.Z=e=>{let{onDeleteHandler:t,onClose:n,open:l,dept:c,title:d,name:u}=e;const m=()=>{n()};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(r.Z,{open:l,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:[(0,o.jsxs)(a.Z,{id:"alert-dialog-title",children:["Are you sure you want to delete the",(0,o.jsxs)("strong",{children:[" ",c," ",d," ",u]}),"? Click ",(0,o.jsx)("strong",{children:"Yes, Delete"})," to proceed or ",(0,o.jsx)("strong",{children:"Cancel"})," to cancel this action."]}),(0,o.jsxs)(i.Z,{sx:{pr:2.5},children:[(0,o.jsxs)(s.Z,{variant:"contained",onClick:()=>{t()},children:["Yes, Delete"," "]}),(0,o.jsx)(s.Z,{variant:"text",color:"error",onClick:m,children:"Cancel"})]})]})})}},84220:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},38820:function(e,t,n){var r=n(76189),a=n(80184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},80720:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(63366),a=n(87462),i=n(94419),s=n(28182),o=n(72791),l=n(95080),c=n(76189),d=n(80184),u=(0,c.Z)((0,d.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),m=n(47630),h=n(93736),p=n(14036),x=n(21217);function Z(e){return(0,x.Z)("MuiTableSortLabel",e)}var j=(0,n(75878).Z)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]);const f=["active","children","className","direction","hideSortIcon","IconComponent"],v=(0,m.ZP)(l.Z,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.active&&t.active]}})((e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,[`& .${j.icon}`]:{opacity:.5}},[`&.${j.active}`]:{color:(t.vars||t).palette.text.primary,[`& .${j.icon}`]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}})),g=(0,m.ZP)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,t[`iconDirection${(0,p.Z)(n.direction)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.Z)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===n.direction&&{transform:"rotate(0deg)"},"asc"===n.direction&&{transform:"rotate(180deg)"})}));var _=o.forwardRef((function(e,t){const n=(0,h.Z)({props:e,name:"MuiTableSortLabel"}),{active:o=!1,children:l,className:c,direction:m="asc",hideSortIcon:x=!1,IconComponent:j=u}=n,_=(0,r.Z)(n,f),b=(0,a.Z)({},n,{active:o,direction:m,hideSortIcon:x,IconComponent:j}),C=(e=>{const{classes:t,direction:n,active:r}=e,a={root:["root",r&&"active"],icon:["icon",`iconDirection${(0,p.Z)(n)}`]};return(0,i.Z)(a,Z,t)})(b);return(0,d.jsxs)(v,(0,a.Z)({className:(0,s.Z)(C.root,c),component:"span",disableRipple:!0,ownerState:b,ref:t},_,{children:[l,x&&!o?null:(0,d.jsx)(g,{as:j,className:(0,s.Z)(C.icon),ownerState:b})]}))}))}}]);
//# sourceMappingURL=8005.19a72d18.chunk.js.map