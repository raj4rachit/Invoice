"use strict";(self.webpackChunkInvoice_Billing=self.webpackChunkInvoice_Billing||[]).push([[231],{31529:function(e,t,n){n.d(t,{$r:function(){return x},A4:function(){return _},Bl:function(){return o},CZ:function(){return S},DT:function(){return j},E$:function(){return f},EE:function(){return y},EK:function(){return s},Gi:function(){return I},MX:function(){return C},Mg:function(){return g},TD:function(){return D},Vf:function(){return A},Wl:function(){return v},_:function(){return r},f7:function(){return p},fb:function(){return u},gN:function(){return N},gq:function(){return w},i9:function(){return z},iJ:function(){return l},ie:function(){return R},j4:function(){return d},jP:function(){return F},kK:function(){return Z},kP:function(){return k},nM:function(){return E},qR:function(){return h},r4:function(){return P},si:function(){return Y},uu:function(){return m},yU:function(){return c},zN:function(){return T},zQ:function(){return b}});var a=n(88893),i=n(27475);function r(e){return i.k.get(a.vy,e)}function s(e){const t=new FormData;return t.append("currency_name",e.currency_name),t.append("currency_symbol",e.currency_symbol),t.append("short_code",e.short_code),t.append("locale",e.locale),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.sY,t)):i.k.post(a.dz,t)}function d(e){return i.k.get(a.TZ,e)}function o(e){const t=new FormData;return t.append("country_name",e.country_name),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.n3,t)):i.k.post(a.JW,t)}function c(e){return i.k.get(a.Oo,e)}function l(e){const t=new FormData;return t.append("country_id",e.country_id),t.append("tax_name",e.tax_name),t.append("rate",e.rate),t.append("is_percentage",e.is_percentage),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.Cb,t)):i.k.post(a.IL,t)}function p(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.ZE,t)}function u(e){return i.k.get(a.Hi,e)}function m(e){const t=new FormData;return t.append("payment_source_name",e.payment_source_name),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.M4,t)):i.k.post(a.M$,t)}function h(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.Cp,t)}function x(e){return i.k.get(a.Et,e)}function _(e){const t=new FormData;return t.append("item_type_name",e.item_type_name),t.append("is_date",e.is_date),t.append("date_type",e.date_type),t.append("date_no",e.date_no),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.FG,t)):i.k.post(a.Ib,t)}function f(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.aW,t)}function j(e){return i.k.get(a.ub,e)}function y(e){const t=new FormData;return t.append("platform_name",e.platform_name),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.Hg,t)):i.k.post(a.Jn,t)}function Z(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.Tz,t)}function g(e){return i.k.get(a.x6,e)}function v(e){const t=new FormData;return t.append("group_name",e.group_name),t.append("description",e.description),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.sJ,t)):i.k.post(a.Vi,t)}function k(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.gK,t)}function b(e){return i.k.get(a.lu,e)}function I(e){const t=new FormData;return t.append("company_id",e.company_id),t.append("title",e.name),t.append("description",e.description),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.Z4,t)):i.k.post(a.Co,t)}function C(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.w1,t)}function D(e){return i.k.get(a.L5,e)}function P(e){const t=new FormData;return t.append("title",e.ratio_name),t.append("ratio",e.ratio),t.append("description",e.description),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.hR,t)):i.k.post(a.jy,t)}function T(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.oR,t)}function w(e){return i.k.get(a.F7,e)}function F(e){const t=new FormData;return t.append("name",e.name),""!=e.parent_id?t.append("parent_id",e.parent_id):t.append("parent_id",0),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.al,t)):i.k.post(a.bu,t)}function S(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.FJ,t)}function E(e){return i.k.get(a.ls,e)}function A(e){const t=new FormData;return t.append("company_id",e.company_id),t.append("bank_name",e.bank_name),t.append("bank_detail_name",e.bank_details_name),t.append("account_number",e.account_number),t.append("account_name",e.account_name),e.extraFiled.map((e=>{t.append(`field[${e.extraFiled}]`,e.extraValue)})),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.bB,t)):i.k.post(a.Fg,t)}function N(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.I5,t)}function Y(e){return i.k.get(a.jX,e)}function z(e){const t=new FormData;return t.append("name",e.name),t.append("status",e.status),""!==e.id&&"edit"===e.formType?(t.append("id",e.id),i.k.post(a.RJ,t)):i.k.post(a.YY,t)}function R(e){const t=new FormData;return t.append("id",e.id),i.k.post(a.QR,t)}},16231:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var a=n(61889),i=n(57621),r=n(9585),s=n(39504),d=n(20890),o=n(77196),c=n(63466),l=n(58956),p=n(17834),u=n(72791),m=n(91923),h=n(23735),x=n(48550),_=n(68096),f=n(30829),j=n(58406),y=n(23786),Z=n(47071),g=n(97123),v=n(36151),k=n(92506),b=n(29516),I=n(52909),C=n(19533),D=n(81724),P=n(94022),T=n(31529),w=n(80184);const F=[{label:"Yes"},{label:"No"}],S=[{value:"days",label:"Days"},{value:"months",label:"Months"},{value:"years",label:"Years"}],E=[{label:"Active"},{label:"Inactive"}],A=D.Ry().shape({item_type_name:D.Z_().required("Item type name is required."),date_type:D.Z_().when("is_date",{is:"Yes",then:D.Z_().required("Date type is required.")}),date_no:D.Z_().when("is_date",{is:"Yes",then:D.Z_().required("Date no is required.")})}),N=(0,u.forwardRef)((function(e,t){const{onChange:n,...a}=e;return(0,w.jsx)(b.F7,{...a,getInputRef:e=>{e},isAllowed:(e,t)=>{const{value:n}=e;return n<=a.max},onValueChange:t=>{n({target:{name:e.name,value:t.value}})},type:"input"})}));var Y=e=>{let{value:t,formID:n,onSubmit:i}=e;const r=null!==t&&void 0!==t&&t,s=(0,k.TA)({initialValues:{id:r?r.id:"",item_type_name:r?r.item_type_name:"",is_date:r?r.is_date:"No",date_type:r?r.date_type:"days",date_no:r?Number(r.date_no):"1",status:r?r.status:"Active",formType:r&&r.id?"edit":"add"},validationSchema:A,onSubmit:(e,t)=>{let{resetForm:n}=t;(0,T.A4)(e).then((e=>{e.data&&1===e.data.status?(i&&i(),n(),(0,P.qX)(e)):(0,P.I5)(e)})).catch((e=>{(0,P.c$)(e)}))}});return(0,w.jsx)("form",{id:n,onSubmit:s.handleSubmit,children:(0,w.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsx)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,w.jsx)(x.Z,{fullWidth:!0,size:"small",id:"item_type_name",name:"item_type_name",label:(0,w.jsx)(C.Z,{title:"Item Type Name"}),value:s.values.item_type_name,onChange:s.handleChange,error:s.touched.item_type_name&&Boolean(s.errors.item_type_name),helperText:s.touched.item_type_name&&s.errors.item_type_name})})})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsx)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,w.jsxs)(_.Z,{size:"small",fullWidth:!0,children:[(0,w.jsx)(f.Z,{id:"is_date_label",children:"Is Date?"}),(0,w.jsx)(j.Z,{fullWidth:!0,labelId:"is_date_label",id:"is_date",name:"is_date",label:"Is Date?",value:s.values.is_date,onChange:e=>{s.handleChange(e),s.setFieldValue("date_type","days"),s.setFieldValue("date_no","1")},children:F.map(((e,t)=>(0,w.jsx)(y.Z,{value:e.label,children:e.label},t)))})]})})})}),"Yes"===s.values.is_date&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsx)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,w.jsxs)(_.Z,{size:"small",fullWidth:!0,error:Boolean(s.touched.date_type&&s.errors.date_type),children:[(0,w.jsx)(f.Z,{id:"date_type_label",children:(0,w.jsx)(C.Z,{title:"Date Type"})}),(0,w.jsx)(j.Z,{fullWidth:!0,labelId:"date_type_label",id:"date_type",name:"date_type",label:(0,w.jsx)(C.Z,{title:"Date Type"}),value:s.values.date_type,onChange:s.handleChange,children:S.map(((e,t)=>(0,w.jsx)(y.Z,{value:e.value,onClick:()=>s.setFieldValue("date_no",""),children:e.label},t)))}),s.touched.date_type&&s.errors.date_type&&(0,w.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:s.errors.date_type})]})})})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsx)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,w.jsx)(x.Z,{fullWidth:!0,size:"small",id:"date_no",name:"date_no",value:s.values.date_no,InputLabelProps:{shrink:!!s.values.date_no},InputProps:{inputProps:{max:"days"===s.values.date_type?31:"months"===s.values.date_type?12:"years"===s.values.date_type?10:0,maxLength:2},inputComponent:N},label:(0,w.jsx)(C.Z,{title:"Date No."}),onChange:s.handleChange,error:s.touched.date_no&&Boolean(s.errors.date_no),helperText:s.touched.date_no&&s.errors.date_no})})})})]}),(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsx)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,w.jsxs)(_.Z,{size:"small",fullWidth:!0,children:[(0,w.jsx)(f.Z,{id:"status",children:"Status"}),(0,w.jsx)(j.Z,{fullWidth:!0,labelId:"status",id:"status",name:"status",label:"status",value:s.values.status,onChange:s.handleChange,children:E.map(((e,t)=>(0,w.jsx)(y.Z,{value:e.label,children:e.label},t)))})]})})})}),"add"===s.values.formType&&(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsx)(a.ZP,{container:!0,alignItems:"center",spacing:2,justifyContent:"flex-end",children:(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsxs)(g.Z,{children:[(0,w.jsx)(I.Z,{children:(0,w.jsx)(v.Z,{variant:"contained",color:"primary",type:"submit",children:"save"})}),(0,w.jsx)(v.Z,{variant:"text",color:"error",onClick:()=>s.resetForm(),children:"clear"})]})})})})]})})},z=n(39281),R=n(79836),q=n(53382),V=n(35855),W=n(68745),B=n(13400),M=n(63033),$=n(56890),L=n(80720),J=n(38820),O=n(84220),H=n(53299),X=n(52463);const G={search:"",displayLength:10,displayStart:0,orderDir:"ASC",orderColumn:0};let K=0;var Q=e=>{let{search:t,callApi:n}=e;const{checkRestriction:a}=(0,p.Z)(),[i,r]=(0,u.useState)([]),[s,d]=(0,u.useState)(0),[o,c]=(0,u.useState)(10),[l,m]=(0,u.useState)("asc"),[h,x]=(0,u.useState)("0"),[_,f]=(0,u.useState)(!1),[j,y]=(0,u.useState)(!1),[Z,g]=(0,u.useState)({}),v=()=>{(0,T.$r)(G).then((e=>{K=e.data.data.totalCount,r(e.data.data.data)})).catch((e=>{(0,P.c$)(e)}))};return(0,u.useEffect)((()=>{var e;G.search=t,G.displayLength=o,G.displayStart=o*s,G.orderDir=null!==(e=null===l||void 0===l?void 0:l.toUpperCase())&&void 0!==e?e:G.orderDir,G.orderColumn=Number(h),v()}),[s,o,l,h,t,n]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(z.Z,{children:(0,w.jsxs)(R.Z,{children:[(0,w.jsx)(U,{order:l,orderBy:h,onRequestSort:e=>{m(h===e&&"asc"===l?"desc":"asc"),x(e)}}),(0,w.jsx)(q.Z,{children:i.map(((e,t)=>(0,w.jsxs)(V.Z,{children:[(0,w.jsx)(W.Z,{align:"left",children:e.item_type_name}),(0,w.jsx)(W.Z,{align:"left",children:e.is_date}),(0,w.jsx)(W.Z,{align:"left",children:e.date_type?e.date_type:"-"}),(0,w.jsx)(W.Z,{align:"left",children:e.date_no?e.date_no:"-"}),(0,w.jsx)(W.Z,{align:"left",children:e.status}),(0,w.jsxs)(W.Z,{align:"right",children:[a("CAN_EDIT_INVOICE_ITEM_TYPE")&&(0,w.jsx)(B.Z,{color:"primary",component:"label",onClick:()=>{return t=e,f((e=>!e)),void g(t);var t},children:(0,w.jsx)(J.Z,{fontSize:"small"})}),a("CAN_DELETE_INVOICE_ITEM_TYPE")&&(0,w.jsx)(B.Z,{color:"error",component:"label",onClick:()=>{return t=e,y(!0),void g(t);var t},children:(0,w.jsx)(O.Z,{fontSize:"small"})})]})]},t)))})]})}),(0,w.jsx)(M.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:Number(K),rowsPerPage:o,page:s,onPageChange:(e,t)=>{d(t)},onRowsPerPageChange:e=>{c(parseInt(e.target.value,10)),d(0)}}),_&&(0,w.jsx)(X.Z,{title:"Edit Invoice Item Type",open:_,onClose:()=>f((e=>!e)),id:"editInvoiceItemType",children:(0,w.jsx)(Y,{value:Z,formID:"editInvoiceItemType",onSubmit:()=>{f((e=>!e)),v()}})}),j&&(0,w.jsx)(H.Z,{onDeleteHandler:()=>{(0,T.E$)({id:Z.id}).then((e=>{e.data&&1===e.data.status?(d(0),v(),y(!1),(0,P.qX)(e)):(0,P.I5)(e)})).catch((e=>{(0,P.c$)(e)}))},onClose:()=>y(!1),open:j,dept:"Invoice Item Type",name:Z.item_type_name})]})};function U(e){let{order:t,orderBy:n,onRequestSort:a}=e;const i=e=>()=>{a(e)};return(0,w.jsx)($.Z,{children:(0,w.jsxs)(V.Z,{children:[(0,w.jsx)(W.Z,{sx:{width:"25%"},children:(0,w.jsx)(L.Z,{active:"0"===n,direction:"0"===n?t:"asc",onClick:i("0"),children:"Item Type Name"})},"item_type_name"),(0,w.jsx)(W.Z,{sx:{width:"15%"},children:(0,w.jsx)(L.Z,{active:"1"===n,direction:"1"===n?t:"asc",onClick:i("1"),children:"Is Date?"})},"is_date"),(0,w.jsx)(W.Z,{sx:{width:"15%"},children:(0,w.jsx)(L.Z,{active:"2"===n,direction:"2"===n?t:"asc",onClick:i("2"),children:"Date Type"})},"date_type"),(0,w.jsx)(W.Z,{sx:{width:"15%"},children:(0,w.jsx)(L.Z,{active:"3"===n,direction:"3"===n?t:"asc",onClick:i("3"),children:"Date No"})},"date_no"),(0,w.jsx)(W.Z,{sx:{width:"15%"},children:(0,w.jsx)(L.Z,{active:"4"===n,direction:"4"===n?t:"asc",onClick:i("4"),children:"Status"})},"status"),(0,w.jsx)(W.Z,{align:"right",sx:{width:"10%"},children:"Action"})]})})}var ee=()=>{const{checkRestriction:e}=(0,p.Z)(),[t,n]=(0,u.useState)(""),[x,_]=(0,u.useState)(!1),[,f]=(0,u.useTransition)();return(0,w.jsxs)(a.ZP,{container:!0,spacing:m.dv,children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:4,children:(0,w.jsxs)(i.Z,{variant:"outlined",children:[(0,w.jsx)(r.Z,{title:"Add Invoice Item Type"}),(0,w.jsx)(s.Z,{children:e("CAN_ADD_INVOICE_ITEM_TYPE")?(0,w.jsx)(Y,{formID:"addInvoiceItemType",onSubmit:()=>{_((e=>!e))}}):(0,w.jsx)(d.Z,{sx:{p:"8%"},textAlign:"center",variant:"h3",color:"inherit",children:"You don't have a permission"})})]})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:8,children:(0,w.jsx)(h.Z,{title:(0,w.jsx)(a.ZP,{container:!0,spacing:m.dv,sx:{mb:-1,mt:-4},children:(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsxs)(a.ZP,{container:!0,spacing:m.dv,children:[(0,w.jsx)(a.ZP,{item:!0,sx:{flexGrow:1},children:(0,w.jsx)(d.Z,{variant:"column",children:"Invoice Item Type List"})}),(0,w.jsx)(a.ZP,{item:!0,children:(0,w.jsx)(o.Z,{id:"input-search-list-style1",placeholder:"Search",startAdornment:(0,w.jsx)(c.Z,{position:"start",children:(0,w.jsx)(l.jVj,{stroke:1.5,size:"1rem"})}),size:"small",onChange:e=>{f((()=>n(e.target.value)))},autoComplete:"off"})})]})})}),content:!0,children:(0,w.jsx)(Q,{search:t,callApi:x})})})]})}},53299:function(e,t,n){var a=n(5574),i=n(65661),r=n(97123),s=n(36151),d=n(80184);t.Z=e=>{let{onDeleteHandler:t,onClose:n,open:o,dept:c,title:l,name:p}=e;const u=()=>{n()};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(a.Z,{open:o,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:[(0,d.jsxs)(i.Z,{id:"alert-dialog-title",children:["Are you sure you want to delete the",(0,d.jsxs)("strong",{children:[" ",c," ",l," ",p]}),"? Click ",(0,d.jsx)("strong",{children:"Yes, Delete"})," to proceed or ",(0,d.jsx)("strong",{children:"Cancel"})," to cancel this action."]}),(0,d.jsxs)(r.Z,{sx:{pr:2.5},children:[(0,d.jsxs)(s.Z,{variant:"contained",onClick:()=>{t()},children:["Yes, Delete"," "]}),(0,d.jsx)(s.Z,{variant:"text",color:"error",onClick:u,children:"Cancel"})]})]})})}}}]);
//# sourceMappingURL=231.0d8a871a.chunk.js.map