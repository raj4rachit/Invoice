"use strict";(self.webpackChunkInvoice_Billing=self.webpackChunkInvoice_Billing||[]).push([[115],{31529:function(e,n,t){t.d(n,{$r:function(){return f},A4:function(){return x},Bl:function(){return c},CZ:function(){return T},DT:function(){return j},E$:function(){return Z},EE:function(){return g},EK:function(){return o},Gi:function(){return b},MX:function(){return D},Mg:function(){return v},TD:function(){return S},Vf:function(){return A},Wl:function(){return y},_:function(){return i},f7:function(){return l},fb:function(){return p},gN:function(){return R},gq:function(){return F},i9:function(){return N},iJ:function(){return u},ie:function(){return L},j4:function(){return s},jP:function(){return E},kK:function(){return _},kP:function(){return k},nM:function(){return I},qR:function(){return h},r4:function(){return w},si:function(){return z},uu:function(){return m},yU:function(){return d},zN:function(){return P},zQ:function(){return C}});var r=t(88893),a=t(27475);function i(e){return a.k.get(r.vy,e)}function o(e){const n=new FormData;return n.append("currency_name",e.currency_name),n.append("currency_symbol",e.currency_symbol),n.append("short_code",e.short_code),n.append("locale",e.locale),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.sY,n)):a.k.post(r.dz,n)}function s(e){return a.k.get(r.TZ,e)}function c(e){const n=new FormData;return n.append("country_name",e.country_name),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.n3,n)):a.k.post(r.JW,n)}function d(e){return a.k.get(r.Oo,e)}function u(e){const n=new FormData;return n.append("country_id",e.country_id),n.append("tax_name",e.tax_name),n.append("rate",e.rate),n.append("is_percentage",e.is_percentage),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.Cb,n)):a.k.post(r.IL,n)}function l(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.ZE,n)}function p(e){return a.k.get(r.Hi,e)}function m(e){const n=new FormData;return n.append("payment_source_name",e.payment_source_name),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.M4,n)):a.k.post(r.M$,n)}function h(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.Cp,n)}function f(e){return a.k.get(r.Et,e)}function x(e){const n=new FormData;return n.append("item_type_name",e.item_type_name),n.append("is_date",e.is_date),n.append("date_type",e.date_type),n.append("date_no",e.date_no),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.FG,n)):a.k.post(r.Ib,n)}function Z(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.aW,n)}function j(e){return a.k.get(r.ub,e)}function g(e){const n=new FormData;return n.append("platform_name",e.platform_name),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.Hg,n)):a.k.post(r.Jn,n)}function _(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.Tz,n)}function v(e){return a.k.get(r.x6,e)}function y(e){const n=new FormData;return n.append("group_name",e.group_name),n.append("description",e.description),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.sJ,n)):a.k.post(r.Vi,n)}function k(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.gK,n)}function C(e){return a.k.get(r.lu,e)}function b(e){const n=new FormData;return n.append("company_id",e.company_id),n.append("title",e.name),n.append("description",e.description),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.Z4,n)):a.k.post(r.Co,n)}function D(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.w1,n)}function S(e){return a.k.get(r.L5,e)}function w(e){const n=new FormData;return n.append("title",e.ratio_name),n.append("ratio",e.ratio),n.append("description",e.description),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.hR,n)):a.k.post(r.jy,n)}function P(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.oR,n)}function F(e){return a.k.get(r.F7,e)}function E(e){const n=new FormData;return n.append("name",e.name),""!=e.parent_id?n.append("parent_id",e.parent_id):n.append("parent_id",0),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.al,n)):a.k.post(r.bu,n)}function T(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.FJ,n)}function I(e){return a.k.get(r.ls,e)}function A(e){const n=new FormData;return n.append("company_id",e.company_id),n.append("bank_name",e.bank_name),n.append("bank_detail_name",e.bank_details_name),n.append("account_number",e.account_number),n.append("account_name",e.account_name),e.extraFiled.map((e=>{n.append(`field[${e.extraFiled}]`,e.extraValue)})),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.bB,n)):a.k.post(r.Fg,n)}function R(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.I5,n)}function z(e){return a.k.get(r.jX,e)}function N(e){const n=new FormData;return n.append("name",e.name),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.RJ,n)):a.k.post(r.YY,n)}function L(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.QR,n)}},52115:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var r=t(61889),a=t(57621),i=t(9585),o=t(39504),s=t(20890),c=t(77196),d=t(63466),u=t(58956),l=t(17834),p=t(72791),m=t(91923),h=t(23735),f=t(48550),x=t(68096),Z=t(30829),j=t(58406),g=t(23786),_=t(47071),v=t(97123),y=t(36151),k=t(31529),C=t(92506),b=t(52909),D=t(94022),S=t(19533),w=t(81724),P=t(80184);const F=[{label:"Active"},{label:"Inactive"}],E=w.Ry().shape({name:w.Z_().required("Name is required."),status:w.Z_().required("Status is required.")});var T=e=>{let{value:n,formID:t,onSubmit:a,initData:i}=e;const o=null!==n&&void 0!==n&&n,s=(0,C.TA)({initialValues:{id:o?o.id:"",name:o?o.name:"",parent_id:o&&null!=o.parent_id?o.parent_id:"",status:o?o.status:"Active",formType:o&&o.id?"edit":"add"},validationSchema:E,onSubmit:(e,n)=>{let{resetForm:t}=n;console.log(e),(0,k.jP)(e).then((e=>{e.data&&1===e.data.status?(a&&a(),t(),(0,D.qX)(e)):(0,D.I5)(e)})).catch((e=>{(0,D.c$)(e)}))}});return(0,P.jsx)("form",{id:t,onSubmit:s.handleSubmit,children:(0,P.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(r.ZP,{item:!0,xs:12,children:(0,P.jsx)(r.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,P.jsx)(r.ZP,{item:!0,xs:12,sm:12,children:(0,P.jsx)(f.Z,{fullWidth:!0,size:"small",id:"name",name:"name",label:(0,P.jsx)(S.Z,{title:"Name"}),value:s.values.name,onChange:s.handleChange,error:s.touched.name&&Boolean(s.errors.name),helperText:s.touched.name&&s.errors.name})})})}),(0,P.jsx)(r.ZP,{item:!0,xs:12,children:(0,P.jsx)(r.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,P.jsx)(r.ZP,{item:!0,xs:12,sm:12,children:(0,P.jsxs)(x.Z,{size:"small",fullWidth:!0,error:s.touched.parent_id&&Boolean(s.errors.parent_id),children:[(0,P.jsx)(Z.Z,{id:"parent_id",children:"Parent Category"}),(0,P.jsx)(j.Z,{fullWidth:!0,labelId:"parent_id",id:"parent_id",name:"parent_id",label:"Parent Category",value:s.values.parent_id,onChange:s.handleChange,children:i.parent_category.map(((e,n)=>(0,P.jsx)(g.Z,{value:e.id,children:e.name},n)))}),(0,P.jsx)(_.Z,{children:s.touched.parent_id&&s.errors.parent_id})]})})})}),(0,P.jsx)(r.ZP,{item:!0,xs:12,children:(0,P.jsx)(r.ZP,{container:!0,alignItems:"center",spacing:2,children:(0,P.jsx)(r.ZP,{item:!0,xs:12,sm:12,children:(0,P.jsxs)(x.Z,{size:"small",fullWidth:!0,children:[(0,P.jsx)(Z.Z,{id:"status",children:"Status"}),(0,P.jsx)(j.Z,{fullWidth:!0,labelId:"status",id:"status",name:"status",label:"status",value:s.values.status,onChange:s.handleChange,children:F.map(((e,n)=>(0,P.jsx)(g.Z,{value:e.label,children:e.label},n)))})]})})})}),"add"===s.values.formType&&(0,P.jsx)(r.ZP,{item:!0,xs:12,children:(0,P.jsx)(r.ZP,{container:!0,alignItems:"center",spacing:2,justifyContent:"flex-end",children:(0,P.jsx)(r.ZP,{item:!0,xs:12,children:(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(b.Z,{children:(0,P.jsx)(y.Z,{variant:"contained",color:"primary",type:"submit",children:"save"})}),(0,P.jsx)(y.Z,{variant:"text",color:"error",onClick:()=>s.resetForm(),children:"clear"})]})})})})]})})},I=t(38820),A=t(84220),R=t(39281),z=t(79836),N=t(53382),L=t(35855),M=t(68745),$=t(13400),q=t(63033),V=t(56890),Y=t(80720),B=t(52463),W=t(53299);const H={search:"",displayLength:10,displayStart:0,orderDir:"ASC",orderColumn:0};let X=0;var G=e=>{let{search:n,callApi:t,setInitData:r,initData:a}=e;const{checkRestriction:i}=(0,l.Z)(),[o,s]=(0,p.useState)([]),[c,d]=(0,p.useState)(0),[u,m]=(0,p.useState)(10),[h,f]=(0,p.useState)("asc"),[x,Z]=(0,p.useState)("0"),[j,g]=(0,p.useState)(!1),[_,v]=(0,p.useState)(!1),[y,C]=(0,p.useState)({}),b=()=>{(0,k.gq)(H).then((e=>{X=e.data.data.totalCount,s(e.data.data.data),r({parent_category:e.data.data.parent_category})})).catch((e=>{(0,D.c$)(e)}))};(0,p.useEffect)((()=>{var e;H.search=n,H.displayLength=u,H.displayStart=u*c,H.orderDir=null!==(e=null===h||void 0===h?void 0:h.toUpperCase())&&void 0!==e?e:H.orderDir,H.orderColumn=Number(x),b()}),[c,u,h,x,n,t]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(R.Z,{children:(0,P.jsxs)(z.Z,{children:[(0,P.jsx)(J,{order:h,orderBy:x,onRequestSort:e=>{f(x===e&&"asc"===h?"desc":"asc"),Z(e)}}),(0,P.jsx)(N.Z,{children:o&&o.map(((e,n)=>(0,P.jsxs)(L.Z,{children:[(0,P.jsx)(M.Z,{children:e.name}),(0,P.jsx)(M.Z,{children:e.parent_name}),(0,P.jsx)(M.Z,{children:e.status}),(0,P.jsxs)(M.Z,{align:"right",children:[i("CAN_EDIT_EXPENSE_CATEGORY")&&(0,P.jsx)($.Z,{color:"primary",component:"label",onClick:()=>{return n=e,g((e=>!e)),void C(n);var n},children:(0,P.jsx)(I.Z,{fontSize:"small"})}),i("CAN_DELETE_EXPENSE_CATEGORY")&&(0,P.jsx)($.Z,{color:"error",component:"label",onClick:()=>{return n=e,v(!0),void C(n);var n},children:(0,P.jsx)(A.Z,{fontSize:"small"})})]})]},n)))})]})}),(0,P.jsx)(q.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:Number(X),rowsPerPage:u,page:c,onPageChange:(e,n)=>{d(n)},onRowsPerPageChange:e=>{m(parseInt(e.target.value,10)),d(0)}}),j&&(0,P.jsx)(B.Z,{title:"Edit Expense Category",open:j,onClose:()=>g((e=>!e)),id:"editExpenseCategory",children:(0,P.jsx)(T,{value:y,formID:"editExpenseCategory",onSubmit:()=>{g((e=>!e)),b()},initData:a})}),_&&(0,P.jsx)(W.Z,{onDeleteHandler:()=>{(0,k.CZ)({id:y.id}).then((e=>{e.data&&1===e.data.status?(d(0),b(),v(!1),(0,D.qX)(e)):(0,D.I5)(e)})).catch((e=>{(0,D.c$)(e)}))},onClose:()=>v(!1),open:_,dept:"Expense Category",name:y.name})]})};function J(e){let{order:n,orderBy:t,onRequestSort:r}=e;const a=e=>()=>{r(e)};return(0,P.jsx)(V.Z,{children:(0,P.jsxs)(L.Z,{children:[(0,P.jsx)(M.Z,{children:(0,P.jsx)(Y.Z,{active:"0"===t,direction:"0"===t?n:"asc",onClick:a("0"),children:"Name"})},"title"),(0,P.jsx)(M.Z,{children:(0,P.jsx)(Y.Z,{active:"1"===t,direction:"1"===t?n:"asc",onClick:a("1"),children:"Parent Category"})},"parent_name"),(0,P.jsx)(M.Z,{children:(0,P.jsx)(Y.Z,{active:"2"===t,direction:"2"===t?n:"asc",onClick:a("2"),children:"Status"})},"status"),(0,P.jsx)(M.Z,{align:"right",sx:{width:"15%"},children:"Action"})]})})}const O={parent_category:[]};var K=()=>{const{checkRestriction:e}=(0,l.Z)(),[n,t]=(0,p.useState)(""),[f,x]=(0,p.useState)(!1),[,Z]=(0,p.useTransition)(),[j,g]=(0,p.useState)(O);return(0,P.jsxs)(r.ZP,{container:!0,spacing:m.dv,children:[(0,P.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:4,children:(0,P.jsxs)(a.Z,{variant:"outlined",children:[(0,P.jsx)(i.Z,{title:"Add Expense Category"}),(0,P.jsx)(o.Z,{children:e("CAN_ADD_EXPENSE_CATEGORY")?(0,P.jsx)(T,{formID:"addContributionRatio",onSubmit:()=>{x((e=>!e))},initData:j}):(0,P.jsx)(s.Z,{sx:{p:"8%"},textAlign:"center",variant:"h3",color:"inherit",children:"You don't have a permission"})})]})}),(0,P.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:8,children:(0,P.jsx)(h.Z,{title:(0,P.jsx)(r.ZP,{container:!0,spacing:m.dv,sx:{mb:-1,mt:-4},children:(0,P.jsx)(r.ZP,{item:!0,xs:12,children:(0,P.jsxs)(r.ZP,{container:!0,spacing:m.dv,children:[(0,P.jsx)(r.ZP,{item:!0,sx:{flexGrow:1},children:(0,P.jsx)(s.Z,{variant:"column",children:"Expense Category List"})}),(0,P.jsx)(r.ZP,{item:!0,children:(0,P.jsx)(c.Z,{id:"input-search-list-style1",placeholder:"Search",startAdornment:(0,P.jsx)(d.Z,{position:"start",children:(0,P.jsx)(u.jVj,{stroke:1.5,size:"1rem"})}),size:"small",onChange:e=>{Z((()=>t(e.target.value)))},autoComplete:"off"})})]})})}),content:!0,children:(0,P.jsx)(G,{search:n,callApi:f,setInitData:g,initData:j})})})]})}},53299:function(e,n,t){var r=t(5574),a=t(65661),i=t(97123),o=t(36151),s=t(80184);n.Z=e=>{let{onDeleteHandler:n,onClose:t,open:c,dept:d,title:u,name:l}=e;const p=()=>{t()};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(r.Z,{open:c,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:[(0,s.jsxs)(a.Z,{id:"alert-dialog-title",children:["Are you sure you want to delete the",(0,s.jsxs)("strong",{children:[" ",d," ",u," ",l]}),"? Click ",(0,s.jsx)("strong",{children:"Yes, Delete"})," to proceed or ",(0,s.jsx)("strong",{children:"Cancel"})," to cancel this action."]}),(0,s.jsxs)(i.Z,{sx:{pr:2.5},children:[(0,s.jsxs)(o.Z,{variant:"contained",onClick:()=>{n()},children:["Yes, Delete"," "]}),(0,s.jsx)(o.Z,{variant:"text",color:"error",onClick:p,children:"Cancel"})]})]})})}},84220:function(e,n,t){var r=t(76189),a=t(80184);n.Z=(0,r.Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},38820:function(e,n,t){var r=t(76189),a=t(80184);n.Z=(0,r.Z)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},80720:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(63366),a=t(87462),i=t(94419),o=t(28182),s=t(72791),c=t(95080),d=t(76189),u=t(80184),l=(0,d.Z)((0,u.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),p=t(47630),m=t(93736),h=t(14036),f=t(21217);function x(e){return(0,f.Z)("MuiTableSortLabel",e)}var Z=(0,t(75878).Z)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]);const j=["active","children","className","direction","hideSortIcon","IconComponent"],g=(0,p.ZP)(c.Z,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.active&&n.active]}})((e=>{let{theme:n}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(n.vars||n).palette.text.secondary},"&:hover":{color:(n.vars||n).palette.text.secondary,[`& .${Z.icon}`]:{opacity:.5}},[`&.${Z.active}`]:{color:(n.vars||n).palette.text.primary,[`& .${Z.icon}`]:{opacity:1,color:(n.vars||n).palette.text.secondary}}}})),_=(0,p.ZP)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.icon,n[`iconDirection${(0,h.Z)(t.direction)}`]]}})((e=>{let{theme:n,ownerState:t}=e;return(0,a.Z)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:n.transitions.create(["opacity","transform"],{duration:n.transitions.duration.shorter}),userSelect:"none"},"desc"===t.direction&&{transform:"rotate(0deg)"},"asc"===t.direction&&{transform:"rotate(180deg)"})}));var v=s.forwardRef((function(e,n){const t=(0,m.Z)({props:e,name:"MuiTableSortLabel"}),{active:s=!1,children:c,className:d,direction:p="asc",hideSortIcon:f=!1,IconComponent:Z=l}=t,v=(0,r.Z)(t,j),y=(0,a.Z)({},t,{active:s,direction:p,hideSortIcon:f,IconComponent:Z}),k=(e=>{const{classes:n,direction:t,active:r}=e,a={root:["root",r&&"active"],icon:["icon",`iconDirection${(0,h.Z)(t)}`]};return(0,i.Z)(a,x,n)})(y);return(0,u.jsxs)(g,(0,a.Z)({className:(0,o.Z)(k.root,d),component:"span",disableRipple:!0,ownerState:y,ref:n},v,{children:[c,f&&!s?null:(0,u.jsx)(_,{as:Z,className:(0,o.Z)(k.icon),ownerState:y})]}))}))}}]);
//# sourceMappingURL=115.6d297598.chunk.js.map