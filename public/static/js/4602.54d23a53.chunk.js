"use strict";(self.webpackChunkInvoice_Billing=self.webpackChunkInvoice_Billing||[]).push([[4602],{31529:function(e,n,t){t.d(n,{$r:function(){return h},A4:function(){return f},Bl:function(){return d},CZ:function(){return B},DT:function(){return Z},E$:function(){return j},EE:function(){return g},EK:function(){return s},Gi:function(){return b},MX:function(){return P},Mg:function(){return y},TD:function(){return w},Vf:function(){return A},Wl:function(){return k},_:function(){return i},aJ:function(){return F},cM:function(){return I},f7:function(){return l},fb:function(){return p},gN:function(){return L},gq:function(){return R},i9:function(){return E},iJ:function(){return u},ie:function(){return M},j4:function(){return o},jP:function(){return q},kK:function(){return _},kP:function(){return v},nM:function(){return z},oq:function(){return D},qR:function(){return x},r4:function(){return S},si:function(){return W},uu:function(){return m},yU:function(){return c},zN:function(){return T},zQ:function(){return C}});var r=t(88893),a=t(27475);function i(e){return a.k.get(r.vy,e)}function s(e){const n=new FormData;return n.append("currency_name",e.currency_name),n.append("currency_symbol",e.currency_symbol),n.append("short_code",e.short_code),n.append("locale",e.locale),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.sY,n)):a.k.post(r.dz,n)}function o(e){return a.k.get(r.TZ,e)}function d(e){const n=new FormData;return n.append("country_name",e.country_name),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.n3,n)):a.k.post(r.JW,n)}function c(e){return a.k.get(r.Oo,e)}function u(e){const n=new FormData;return n.append("country_id",e.country_id),n.append("tax_name",e.tax_name),n.append("rate",e.rate),n.append("is_percentage",e.is_percentage),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.Cb,n)):a.k.post(r.IL,n)}function l(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.ZE,n)}function p(e){return a.k.get(r.Hi,e)}function m(e){const n=new FormData;return n.append("payment_source_name",e.payment_source_name),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.M4,n)):a.k.post(r.M$,n)}function x(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.Cp,n)}function h(e){return a.k.get(r.Et,e)}function f(e){const n=new FormData;return n.append("item_type_name",e.item_type_name),n.append("is_date",e.is_date),n.append("date_type",e.date_type),n.append("date_no",e.date_no),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.FG,n)):a.k.post(r.Ib,n)}function j(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.aW,n)}function Z(e){return a.k.get(r.ub,e)}function g(e){const n=new FormData;return n.append("platform_name",e.platform_name),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.Hg,n)):a.k.post(r.Jn,n)}function _(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.Tz,n)}function y(e){return a.k.get(r.x6,e)}function k(e){const n=new FormData;return n.append("group_name",e.group_name),n.append("description",e.description),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.sJ,n)):a.k.post(r.Vi,n)}function v(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.gK,n)}function C(e){return a.k.get(r.lu,e)}function b(e){const n=new FormData;return n.append("company_id",e.company_id),n.append("title",e.name),n.append("description",e.description),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.Z4,n)):a.k.post(r.Co,n)}function P(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.w1,n)}function w(e){return a.k.get(r.L5,e)}function S(e){const n=new FormData;return n.append("title",e.ratio_name),n.append("ratio",e.ratio),n.append("description",e.description),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.hR,n)):a.k.post(r.jy,n)}function T(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.oR,n)}function D(e){return a.k.get(r.n8,e)}function F(e){const n=new FormData;return n.append("name",e.name),""!=e.parent_id?n.append("parent_id",e.parent_id):n.append("parent_id",0),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.YR,n)):a.k.post(r.TS,n)}function I(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.jP,n)}function R(e){return a.k.get(r.F7,e)}function q(e){const n=new FormData;return n.append("name",e.name),""!=e.parent_id?n.append("parent_id",e.parent_id):n.append("parent_id",0),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.al,n)):a.k.post(r.bu,n)}function B(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.FJ,n)}function z(e){return a.k.get(r.ls,e)}function A(e){const n=new FormData;return n.append("company_id",e.company_id),n.append("bank_name",e.bank_name),n.append("bank_detail_name",e.bank_details_name),n.append("account_number",e.account_number),n.append("account_name",e.account_name),e.extraFiled.map((e=>{n.append(`field[${e.extraFiled}]`,e.extraValue)})),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.bB,n)):a.k.post(r.Fg,n)}function L(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.I5,n)}function W(e){return a.k.get(r.jX,e)}function E(e){const n=new FormData;return n.append("name",e.name),n.append("status",e.status),""!==e.id&&"edit"===e.formType?(n.append("id",e.id),a.k.post(r.RJ,n)):a.k.post(r.YY,n)}function M(e){const n=new FormData;return n.append("id",e.id),a.k.post(r.QR,n)}},62007:function(e,n,t){var r=t(80169),a=t(55931),i=t(5574),s=t(65661),o=t(20890),d=t(13400),c=t(39157),u=t(61889),l=t(97123),p=t(36151),m=t(72791),x=t(91923),h=t(52909),f=t(80184);const j=(0,m.forwardRef)(((e,n)=>(0,f.jsx)(a.Z,{direction:"left",ref:n,...e})));n.Z=e=>{let{open:n,children:t,title:a,showButton:Z,sx:g={},onClose:_,isComment:y,buttons:k,id:v,saveButton:C}=e;const[b,P]=(0,m.useState)(!1);(0,m.useEffect)((()=>{var e;P(null!==(e=n)&&void 0!==e&&e)}),[n]);const w=()=>{P((e=>!e)),n=!1,_&&_()};return(0,f.jsxs)(i.Z,{open:b,TransitionComponent:j,keepMounted:!0,onClose:w,sx:{h2:{p:"10px 24px"},"& .MuiDialog-container ":{justifyContent:"flex-end","& .MuiPaper-root":{m:0,p:0,borderRadius:"0px",minWidth:{sm:"60%",xs:"100%"},minHeight:"100%"}},...g},children:[a&&(0,f.jsxs)(s.Z,{children:[(0,f.jsx)(o.Z,{variant:"h4",gutterBottom:!0,component:"div",children:a}),(0,f.jsx)(d.Z,{"aria-label":"close",onClick:w,sx:{position:"absolute",right:8,top:0},children:(0,f.jsx)(r.Z,{})})]}),(0,f.jsx)(c.Z,{dividers:!0,children:t}),(0,f.jsx)(u.ZP,{container:!0,alignItems:"center",spacing:x.dv,justifyContent:"flex-end",children:(0,f.jsx)(u.ZP,{item:!0,xs:12,children:(0,f.jsxs)(l.Z,{children:[!C&&(0,f.jsx)(h.Z,{children:(0,f.jsx)(p.Z,{variant:"contained",color:"primary",type:"submit",form:v,children:"Save"})}),(0,f.jsx)(p.Z,{variant:"text",color:"error",onClick:w,children:"Close"})]})})})]})}},54602:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(79567),a=t(61889),i=t(20890),s=t(36151),o=t(77196),d=t(63466),c=t(58956),u=t(72791),l=t(91923),p=t(23735),m=t(62007),x=t(68870),h=t(68096),f=t(30829),j=t(58406),Z=t(23786),g=t(47071),_=t(48550),y=t(31529),k=t(92506),v=t(30948),C=t(94022),b=t(19533),P=t(81724),w=t(80184);const S=P.Ry().shape({tax_name:P.Z_().required("Tax name is required."),rate:P.Z_().required("Rate is required."),is_percentage:P.Z_().required("Percentage is required."),country_id:P.Z_().required("Country is required."),status:P.Z_().required("Status is required.")}),T=[{label:"Active"},{label:"Inactive"}],D=[{id:1,name:"Yes"},{id:2,name:"No"}],F=(0,u.forwardRef)((function(e,n){const{onChange:t,...r}=e;return(0,w.jsx)(v.h3,{...r,decimalScale:2,suffix:"%",getInputRef:e=>{e},isAllowed:(e,n)=>{const{value:t}=e;return t<=100},onValueChange:n=>{t({target:{name:e.name,value:n.value}})},type:"input"})}));var I=e=>{let{value:n,formId:t,onSubmit:r,countryList:s}=e;const o=null!==n&&void 0!==n&&n,d=(0,k.TA)({initialValues:{id:o?o.id:"",tax_name:o?o.tax_name:"",rate:o?o.rate:"",is_percentage:o?o.is_percentage:"Yes",country_id:o?o.country_id:"",status:"Active",formType:o&&o.id?"edit":"add"},validationSchema:S,onSubmit:e=>{(0,y.iJ)(e).then((e=>{e.data&&1===e.data.status?(r&&r(),(0,C.qX)(e)):(0,C.I5)(e)})).catch((e=>{(0,C.c$)(e)}))}});return(0,w.jsx)(x.Z,{children:(0,w.jsx)("form",{id:t,onSubmit:d.handleSubmit,children:(0,w.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,w.jsx)(i.Z,{variant:"subtitle1",children:(0,w.jsx)(b.Z,{title:"Country"})})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,w.jsxs)(h.Z,{size:"small",fullWidth:!0,error:d.touched.country_id&&Boolean(d.errors.country_id),children:[(0,w.jsx)(f.Z,{id:"country_id",children:(0,w.jsx)(b.Z,{title:"Country"})}),(0,w.jsx)(j.Z,{fullWidth:!0,labelId:"country_id",id:"country_id",name:"country_id",label:(0,w.jsx)(b.Z,{title:"Country"}),value:d.values.country_id,onChange:d.handleChange,children:s.map((e=>(0,w.jsx)(Z.Z,{value:e.id,children:e.country_name},e.id)))}),(0,w.jsx)(g.Z,{children:d.touched.country_id&&d.errors.country_id})]})})]})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,w.jsx)(i.Z,{variant:"subtitle1",children:(0,w.jsx)(b.Z,{title:"Tax name"})})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,w.jsx)(_.Z,{fullWidth:!0,size:"small",id:"tax_name",name:"tax_name",label:(0,w.jsx)(b.Z,{title:"Tax name"}),value:d.values.tax_name,onChange:d.handleChange,error:d.touched.tax_name&&Boolean(d.errors.tax_name),helperText:d.touched.tax_name&&d.errors.tax_name})})]})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,w.jsx)(i.Z,{variant:"subtitle1",children:(0,w.jsx)(b.Z,{title:"Rate"})})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,w.jsx)(_.Z,{fullWidth:!0,size:"small",id:"rate",name:"rate",placeholder:"Rate",defaultValue:d.values.rate,onChange:e=>{d.setFieldValue("rate",e.target.value)},InputProps:{inputComponent:F},error:d.touched.rate&&Boolean(d.errors.rate),helperText:d.touched.rate&&d.errors.rate})})]})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,w.jsx)(i.Z,{variant:"subtitle1",children:(0,w.jsx)(b.Z,{title:"Percentage"})})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,w.jsxs)(h.Z,{size:"small",fullWidth:!0,error:d.touched.is_percentage&&Boolean(d.errors.is_percentage),children:[(0,w.jsx)(f.Z,{id:"is_percentage",children:(0,w.jsx)(b.Z,{title:"Percentage"})}),(0,w.jsx)(j.Z,{fullWidth:!0,labelId:"is_percentage",id:"is_percentage",name:"is_percentage",label:(0,w.jsx)(b.Z,{title:"Percentage"}),value:d.values.is_percentage,onChange:d.handleChange,disabled:!0,children:D.map((e=>(0,w.jsx)(Z.Z,{value:e.name,children:e.name},e.id)))}),(0,w.jsx)(g.Z,{children:d.touched.is_percentage&&d.errors.is_percentage})]})})]})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,w.jsx)(i.Z,{variant:"subtitle1",children:"Status"})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,w.jsxs)(h.Z,{size:"small",fullWidth:!0,error:d.touched.status&&Boolean(d.errors.status),children:[(0,w.jsx)(f.Z,{id:"status",children:"Status"}),(0,w.jsx)(j.Z,{fullWidth:!0,labelId:"status",id:"status",name:"status",label:"Status",value:d.values.status,onChange:d.handleChange,children:T.map(((e,n)=>(0,w.jsx)(Z.Z,{value:e.label,children:e.label},n)))}),(0,w.jsx)(g.Z,{children:d.touched.status&&d.errors.status})]})})]})})]})})})},R=t(38820),q=t(84220),B=t(39281),z=t(79836),A=t(53382),L=t(35855),W=t(68745),E=t(13400),M=t(63033),J=t(56890),V=t(80720),Y=t(53299);const $={search:"",displayLength:10,displayStart:0,orderDir:"ASC",orderColumn:0};let H=0;var N=e=>{let{search:n,callApi:t,setCountryList:r,countryList:a}=e;const[i,s]=(0,u.useState)([]),[o,d]=(0,u.useState)(0),[c,l]=(0,u.useState)(10),[p,x]=(0,u.useState)("asc"),[h,f]=(0,u.useState)("0"),[j,Z]=(0,u.useState)(!1),[g,_]=(0,u.useState)(!1),[k,v]=(0,u.useState)({}),b=()=>{(0,y.yU)($).then((e=>{H=e.data.data.totalCount,s(e.data.data.data),r(e.data.data.countryList)})).catch((e=>{(0,C.c$)(e)}))};return(0,u.useEffect)((()=>{var e;$.search=n,$.displayLength=c,$.displayStart=c*o,$.orderDir=null!==(e=null===p||void 0===p?void 0:p.toUpperCase())&&void 0!==e?e:$.orderDir,$.orderColumn=Number(h),b()}),[o,c,p,h,n,t]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(B.Z,{children:(0,w.jsxs)(z.Z,{children:[(0,w.jsx)(X,{order:p,orderBy:h,onRequestSort:e=>{x(h===e&&"asc"===p?"desc":"asc"),f(e)}}),(0,w.jsx)(A.Z,{children:i.map(((e,n)=>(0,w.jsxs)(L.Z,{children:[(0,w.jsx)(W.Z,{align:"left",children:e.tax_name}),(0,w.jsx)(W.Z,{align:"left",children:e.rate}),(0,w.jsx)(W.Z,{align:"left",children:e.is_percentage}),(0,w.jsx)(W.Z,{align:"left",children:e.country_name}),(0,w.jsx)(W.Z,{align:"left",children:e.status}),(0,w.jsxs)(W.Z,{align:"right",children:[(0,w.jsx)(E.Z,{color:"primary",component:"label",onClick:()=>{return n=e,Z((e=>!e)),void v(n);var n},children:(0,w.jsx)(R.Z,{fontSize:"small"})}),(0,w.jsx)(E.Z,{color:"error",component:"label",onClick:()=>{return n=e,_(!0),void v(n);var n},children:(0,w.jsx)(q.Z,{fontSize:"small"})})]})]},n)))})]})}),(0,w.jsx)(M.Z,{rowsPerPageOptions:[10,25,50,100],component:"div",count:Number(H),rowsPerPage:c,page:o,onPageChange:(e,n)=>{d(n)},onRowsPerPageChange:e=>{l(parseInt(e.target.value,10)),d(0)}}),j&&(0,w.jsx)(m.Z,{open:j,title:"Edit Country Tax",onClose:()=>Z((e=>!e)),id:"editCountryTax",children:(0,w.jsx)(I,{value:k,formId:"editCountryTax",onSubmit:()=>{Z((e=>!e)),b()},countryList:a})}),g&&(0,w.jsx)(Y.Z,{onDeleteHandler:()=>{(0,y.f7)({id:k.id}).then((e=>{e.data&&1===e.data.status?(d(0),b(),_(!1),(0,C.qX)(e)):(0,C.I5)(e)})).catch((e=>{(0,C.c$)(e)}))},onClose:()=>_(!1),open:g,dept:"Country Tax",name:k.tax_name})]})};function X(e){let{order:n,orderBy:t,onRequestSort:r}=e;const a=e=>()=>{r(e)};return(0,w.jsx)(J.Z,{children:(0,w.jsxs)(L.Z,{children:[(0,w.jsx)(W.Z,{children:(0,w.jsx)(V.Z,{active:"0"===t,direction:"0"===t?n:"asc",onClick:a("0"),children:"Tax name"})},"tax_name"),(0,w.jsx)(W.Z,{children:(0,w.jsx)(V.Z,{active:"1"===t,direction:"1"===t?n:"asc",onClick:a("1"),children:"Rate"})},"rate"),(0,w.jsx)(W.Z,{children:(0,w.jsx)(V.Z,{active:"2"===t,direction:"2"===t?n:"asc",onClick:a("2"),children:"Is Percentage"})},"is_percentage"),(0,w.jsx)(W.Z,{children:(0,w.jsx)(V.Z,{active:"3"===t,direction:"3"===t?n:"asc",onClick:a("3"),children:"Country"})},"country_name"),(0,w.jsx)(W.Z,{children:(0,w.jsx)(V.Z,{active:"4"===t,direction:"4"===t?n:"asc",onClick:a("4"),children:"Status"})},"status"),(0,w.jsx)(W.Z,{align:"right",sx:{width:"10%"},children:"Action"})]})})}var G=()=>{const[e,n]=(0,u.useState)(""),[t,x]=(0,u.useState)(!1),[h,f]=(0,u.useState)(!1),[j,Z]=(0,u.useState)([]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.Z,{title:(0,w.jsx)(a.ZP,{container:!0,alignItems:"center",spacing:l.dv,sx:{mb:-1,mt:-4},children:(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:l.dv,children:[(0,w.jsx)(a.ZP,{item:!0,sx:{flexGrow:1},children:(0,w.jsx)(i.Z,{variant:"column",children:"Country Tax List"})}),(0,w.jsx)(a.ZP,{item:!0,children:(0,w.jsxs)(s.Z,{variant:"contained",onClick:()=>{x((e=>!e))},children:[(0,w.jsx)(r.Z,{sx:{mr:.5}})," Add Country Tax"]})}),(0,w.jsx)(a.ZP,{item:!0,children:(0,w.jsx)(o.Z,{id:"input-search-list-style1",placeholder:"Search",startAdornment:(0,w.jsx)(d.Z,{position:"start",children:(0,w.jsx)(c.jVj,{stroke:1.5,size:"1rem"})}),size:"small",onChange:e=>{n(e.target.value)},autoComplete:"off"})})]})})}),content:!0,children:(0,w.jsx)(N,{search:e,callApi:h,setCountryList:Z,countryList:j})}),t&&(0,w.jsx)(m.Z,{open:t,title:"Add Country Tax",onClose:()=>x((e=>!e)),id:"addCountryTax",children:(0,w.jsx)(I,{formId:"addCountryTax",onSubmit:()=>{x((e=>!e)),f((e=>!e))},countryList:j})})]})}},53299:function(e,n,t){var r=t(5574),a=t(65661),i=t(97123),s=t(36151),o=t(80184);n.Z=e=>{let{onDeleteHandler:n,onClose:t,open:d,dept:c,title:u,name:l}=e;const p=()=>{t()};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(r.Z,{open:d,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:[(0,o.jsxs)(a.Z,{id:"alert-dialog-title",children:["Are you sure you want to delete the",(0,o.jsxs)("strong",{children:[" ",c," ",u," ",l]}),"? Click ",(0,o.jsx)("strong",{children:"Yes, Delete"})," to proceed or ",(0,o.jsx)("strong",{children:"Cancel"})," to cancel this action."]}),(0,o.jsxs)(i.Z,{sx:{pr:2.5},children:[(0,o.jsxs)(s.Z,{variant:"contained",onClick:()=>{n()},children:["Yes, Delete"," "]}),(0,o.jsx)(s.Z,{variant:"text",color:"error",onClick:p,children:"Cancel"})]})]})})}}}]);
//# sourceMappingURL=4602.54d23a53.chunk.js.map